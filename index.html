<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sunwin GOD MODE</title>
    <style>
        /* --- RESET --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body {
            margin: 0; padding: 0;
            background: #000; color: #fff;
            font-family: Arial, sans-serif;
            height: 100vh; width: 100vw;
            overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* --- 1. HEADER (10% Height) --- */
        .header {
            height: 10vh; background: #151515; border-bottom: 2px solid #d4af37;
            display: flex; align-items: center; justify-content: center;
        }
        .balance-display {
            font-size: 20px; font-weight: bold; color: #f1c40f;
            border: 1px solid #d4af37; padding: 5px 20px; border-radius: 20px;
            background: rgba(0,0,0,0.5);
            box-shadow: 0 0 10px #d4af37;
        }

        /* --- 2. GAME BOARD (60% Height) --- */
        .board {
            height: 60vh; width: 100%;
            background: radial-gradient(circle, #3a0e0e 0%, #000 100%);
            position: relative;
            display: flex; align-items: center; justify-content: center;
        }

        /* Cửa đặt */
        .gates-container {
            position: absolute; width: 95%; top: 50%; transform: translateY(-50%);
            display: flex; justify-content: space-between;
        }
        .gate {
            width: 35vw; height: 35vw; /* Vuông */
            max-width: 150px; max-height: 150px;
            background: linear-gradient(180deg, #4b0d0d, #220505);
            border: 2px solid #6e4618; border-radius: 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: 0.1s;
        }
        .gate.active { border-color: #f1c40f; box-shadow: 0 0 20px #f1c40f; transform: scale(1.05); }
        .gate-label { font-size: 28px; font-weight: 900; color: white; }
        .gate-bet { color: #2ecc71; font-weight: bold; font-size: 14px; margin-top: 5px; }

        /* Đĩa và Bát */
        .plate {
            position: relative; width: 40vw; height: 40vw;
            max-width: 180px; max-height: 180px;
            background: #251600; border-radius: 50%; border: 4px solid #d4af37;
            display: flex; justify-content: center; align-items: center;
            z-index: 10;
        }
        .dice-container { display: flex; gap: 5px; }
        .dice {
            width: 30px; height: 30px; background: #fff; border-radius: 5px;
            color: #c0392b; font-size: 22px; display: flex; justify-content: center; align-items: center;
        }
        .bowl {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%; background: radial-gradient(circle at 30% 30%, #f1c40f, #8a6d3b);
            box-shadow: 0 5px 20px #000; z-index: 20;
            transition: transform 0.4s, opacity 0.4s;
            display: flex; justify-content: center; align-items: center;
            color: rgba(0,0,0,0.3); font-weight: bold; font-size: 24px;
        }
        .bowl.open { transform: translateY(-120%); opacity: 0; pointer-events: none; }
        .shaking { animation: shake 0.5s infinite; }
        @keyframes shake { 0% {transform: translate(0,0);} 25% {transform: translate(-3px,3px);} 75% {transform: translate(3px,-3px);} }

        .timer {
            position: absolute; top: -15px; width: 40px; height: 40px;
            background: #000; color: red; border: 2px solid red; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 18px; z-index: 30;
        }

        /* --- 3. CONTROLS (FIXED BOTTOM 30%) --- */
        .controls {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 30vh;
            background: #111; border-top: 1px solid #333;
            display: flex; flex-direction: column; align-items: center; justify-content: space-evenly;
            padding: 10px; z-index: 100;
        }

        .status-bar { color: #f39c12; font-weight: bold; height: 20px; }
        
        .chips-row { display: flex; gap: 10px; }
        .chip {
            width: 15vw; height: 15vw; max-width: 60px; max-height: 60px;
            border-radius: 50%; background: radial-gradient(#e67e22, #d35400);
            border: 2px dashed #fff; display: flex; justify-content: center; align-items: center;
            font-size: 10px; font-weight: bold; box-shadow: 0 3px 0 #8e44ad;
        }
        .chip:active { transform: translateY(2px); box-shadow: none; }

        .btn-confirm {
            width: 90%; height: 50px; border-radius: 25px; border: none;
            background: linear-gradient(to right, #f1c40f, #f39c12);
            font-size: 20px; font-weight: 900; color: #000;
            box-shadow: 0 0 15px rgba(241, 196, 15, 0.5);
            text-transform: uppercase;
        }
        .btn-confirm:disabled { filter: grayscale(1); opacity: 0.5; }

        /* --- 4. TOOL HACK (POPUP) --- */
        .tool-btn {
            position: absolute; top: 10px; right: 10px;
            width: 40px; height: 40px; border-radius: 50%; background: #000;
            border: 2px solid #0f0; color: #0f0; display: flex; justify-content: center; align-items: center;
            font-size: 20px; z-index: 200; animation: blink 2s infinite;
        }
        @keyframes blink { 50% { box-shadow: 0 0 15px #0f0; } }

        .tool-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 999;
            display: none; align-items: center; justify-content: center;
        }
        .tool-box {
            width: 80%; background: #000; border: 2px solid #0f0;
            padding: 20px; text-align: center; border-radius: 10px; font-family: monospace;
        }
        .hack-result { font-size: 50px; font-weight: bold; margin: 20px 0; }
        .t-tai { color: #e74c3c; text-shadow: 0 0 20px red; }
        .t-xiu { color: #3498db; text-shadow: 0 0 20px blue; }

        .hack-btn {
            width: 100%; padding: 15px; background: transparent;
            border: 1px solid #0f0; color: #0f0; font-size: 16px; font-weight: bold;
            margin-bottom: 10px; cursor: pointer;
        }
        .auto-btn {
            width: 100%; padding: 15px; background: #0f0; border: none;
            color: #000; font-size: 16px; font-weight: bold; cursor: pointer;
        }

        /* --- 5. START BUTTON --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000;
            z-index: 9999; display: flex; justify-content: center; align-items: center;
        }
        #btn-play {
            padding: 20px 50px; background: #f1c40f; border: none; font-size: 24px;
            font-weight: bold; border-radius: 50px; animation: pulse 1s infinite;
        }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.1);} 100% {transform: scale(1);} }

        /* WIN MSG */
        #win-msg {
            position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%);
            font-size: 60px; font-weight: 900; color: yellow; text-shadow: 0 0 20px red;
            display: none; z-index: 900; width: 100%; text-align: center;
        }
    </style>
</head>
<body>

    <div id="start-overlay">
        <button id="btn-play">VÀO GAME</button>
    </div>

    <div class="header">
        <div class="balance-display" id="balance">10,000,000</div>
    </div>

    <div class="board">
        <div id="win-msg">HÚP!!!</div>
        
        <div class="gates-container">
            <div class="gate" id="gate-tai">
                <div class="gate-label" style="text-shadow: 0 0 5px red;">TÀI</div>
                <div class="gate-bet" id="bet-tai">0</div>
            </div>
            <div class="gate" id="gate-xiu">
                <div class="gate-label" style="text-shadow: 0 0 5px blue;">XỈU</div>
                <div class="gate-bet" id="bet-xiu">0</div>
            </div>
        </div>

        <div class="plate">
            <div class="timer" id="timer">15</div>
            <div class="bowl" id="bowl">SUNWIN</div>
            <div class="dice-container">
                <div class="dice" id="d1">?</div>
                <div class="dice" id="d2">?</div>
                <div class="dice" id="d3">?</div>
            </div>
        </div>
        
        <div class="tool-btn" id="open-tool">⚙</div>
    </div>

    <div class="controls">
        <div class="status-bar" id="status">Vui lòng đặt cược</div>
        
        <div class="chips-row">
            <div class="chip" onclick="game.addChip(100000)">100K</div>
            <div class="chip" onclick="game.addChip(500000)">500K</div>
            <div class="chip" onclick="game.addChip(1000000)">1M</div>
            <div class="chip" onclick="game.addChip(5000000)">5M</div>
            <div class="chip" onclick="game.reset()" style="background:red; border-color:red">HỦY</div>
        </div>

        <button class="btn-confirm" id="btn-confirm" onclick="game.confirm()">XÁC NHẬN CƯỢC</button>
    </div>

    <div class="tool-overlay" id="tool-modal">
        <div class="tool-box">
            <div style="text-align:right; color:#fff; font-size:20px" onclick="tool.close()">[X]</div>
            <div style="color:#0f0; margin-bottom:10px">HACKER SERVER V6</div>
            
            <div class="hack-result" id="hack-res">---</div>
            
            <button class="hack-btn" id="btn-hack-run" onclick="tool.run()">PHÂN TÍCH KẾT QUẢ</button>
            <button class="auto-btn" onclick="tool.auto()">CƯỢC THEO TOOL (100% WIN)</button>
        </div>
    </div>

    <script>
        // --- LOGIC GAME GOD MODE ---
        const game = {
            balance: 10000000,
            state: 'STOP',
            timeLeft: 15,
            timer: null,
            tempBet: 0,
            selectedSide: null,
            confirmedSide: null,
            confirmedAmt: 0,
            
            // BIẾN QUAN TRỌNG: LƯU KẾT QUẢ BỊ GÀI
            forcedResult: null, 

            start: function() {
                document.getElementById('start-overlay').style.display = 'none';
                this.newRound();
            },

            newRound: function() {
                clearInterval(this.timer);
                this.state = 'BETTING';
                this.timeLeft = 15;
                this.tempBet = 0;
                this.selectedSide = null;
                this.confirmedSide = null;
                this.confirmedAmt = 0;
                
                // Reset Tool Hack mỗi ván
                this.forcedResult = null; 
                document.getElementById('hack-res').innerText = "---";

                // UI Reset
                document.getElementById('bowl').classList.remove('open');
                document.getElementById('win-msg').style.display = 'none';
                document.getElementById('status').innerText = "MỜI ĐẶT CƯỢC";
                document.getElementById('btn-confirm').disabled = false;
                document.getElementById('gate-tai').classList.remove('active');
                document.getElementById('gate-xiu').classList.remove('active');
                document.getElementById('bet-tai').innerText = "0";
                document.getElementById('bet-xiu').innerText = "0";
                
                this.updateBalance();

                // Timer Loop
                document.getElementById('timer').innerText = this.timeLeft;
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    document.getElementById('timer').innerText = this.timeLeft;
                    if(this.timeLeft <= 0) {
                        clearInterval(this.timer);
                        this.shake();
                    }
                }, 1000);
            },

            shake: function() {
                this.state = 'SHAKING';
                document.getElementById('status').innerText = "ĐANG LẮC...";
                document.getElementById('btn-confirm').disabled = true;
                document.getElementById('bowl').classList.add('shaking');
                setTimeout(() => {
                    document.getElementById('bowl').classList.remove('shaking');
                    this.showResult();
                }, 2000);
            },

            showResult: function() {
                this.state = 'RESULT';
                let total, r1, r2, r3, type;

                // --- LOGIC GÀI KẾT QUẢ (GOD MODE) ---
                if (this.forcedResult) {
                    // Nếu tool đã chọn, ta buộc xúc xắc ra theo ý tool
                    if (this.forcedResult === 'TAI') {
                        // Random ra Tài (11-17)
                        do {
                            r1 = Math.ceil(Math.random()*6);
                            r2 = Math.ceil(Math.random()*6);
                            r3 = Math.ceil(Math.random()*6);
                            total = r1+r2+r3;
                        } while (total < 11);
                    } else {
                        // Random ra Xỉu (3-10)
                        do {
                            r1 = Math.ceil(Math.random()*6);
                            r2 = Math.ceil(Math.random()*6);
                            r3 = Math.ceil(Math.random()*6);
                            total = r1+r2+r3;
                        } while (total > 10);
                    }
                    type = this.forcedResult; // Chắc chắn đúng
                } else {
                    // Nếu không dùng tool thì random bình thường
                    r1 = Math.ceil(Math.random()*6);
                    r2 = Math.ceil(Math.random()*6);
                    r3 = Math.ceil(Math.random()*6);
                    total = r1+r2+r3;
                    type = (total >= 11) ? 'TAI' : 'XIU';
                }

                // Hiển thị UI
                const icons = ['⚀', '⚁', '⚂', '⚃', '⚄', '⚅'];
                document.getElementById('d1').innerText = icons[r1-1];
                document.getElementById('d2').innerText = icons[r2-1];
                document.getElementById('d3').innerText = icons[r3-1];
                document.getElementById('bowl').classList.add('open');
                
                document.getElementById('status').innerText = `VỀ ${type} (${total})`;

                // Trả thưởng
                if (this.confirmedSide === type) {
                    let win = this.confirmedAmt * 2;
                    this.balance += win;
                    document.getElementById('win-msg').style.display = 'block';
                    document.getElementById('win-msg').innerText = `+${win.toLocaleString()}`;
                }

                this.updateBalance();
                setTimeout(() => this.newRound(), 5000);
            },

            addChip: function(amt) {
                if(this.state !== 'BETTING') return;
                if(!this.selectedSide) { alert("Chọn cửa trước!"); return; }
                if(this.balance - this.confirmedAmt - this.tempBet < amt) return;
                this.tempBet += amt;
                this.updateUIBet();
            },

            reset: function() {
                if(this.confirmedSide) return;
                this.tempBet = 0;
                this.updateUIBet();
            },

            confirm: function() {
                if(this.tempBet <= 0) return;
                this.balance -= this.tempBet;
                this.confirmedAmt = this.tempBet;
                this.confirmedSide = this.selectedSide;
                document.getElementById('btn-confirm').disabled = true;
                document.getElementById('status').innerText = "ĐÃ ĐẶT CƯỢC";
                this.updateBalance();
            },

            updateBalance: function() {
                document.getElementById('balance').innerText = this.balance.toLocaleString();
            },

            updateUIBet: function() {
                if(this.selectedSide === 'TAI') document.getElementById('bet-tai').innerText = this.tempBet.toLocaleString();
                if(this.selectedSide === 'XIU') document.getElementById('bet-xiu').innerText = this.tempBet.toLocaleString();
            }
        };

        // --- TOOL LOGIC ---
        const tool = {
            open: function() { document.getElementById('tool-modal').style.display = 'flex'; },
            close: function() { document.getElementById('tool-modal').style.display = 'none'; },
            
            run: function() {
                if(game.state !== 'BETTING') { alert("Chờ ván mới!"); return; }
                
                document.getElementById('btn-hack-run').innerText = "Đang xâm nhập...";
                
                setTimeout(() => {
                    // QUYẾT ĐỊNH KẾT QUẢ TẠI ĐÂY
                    const result = Math.random() > 0.5 ? 'TAI' : 'XIU';
                    
                    // GÁN KẾT QUẢ VÀO GAME ĐỂ "BỊP"
                    game.forcedResult = result;

                    // Hiển thị cho user
                    const resEl = document.getElementById('hack-res');
                    resEl.innerText = result;
                    resEl.className = result === 'TAI' ? 'hack-result t-tai' : 'hack-result t-xiu';
                    
                    document.getElementById('btn-hack-run').innerText = "PHÂN TÍCH LẠI";
                }, 1000);
            },

            auto: function() {
                if(!game.forcedResult) { alert("Chưa phân tích!"); return; }
                if(game.confirmedSide) return;

                this.close();
                // Tự động đặt theo kết quả đã gài
                game.selectedSide = game.forcedResult;
                
                // Update UI chọn cửa
                document.getElementById('gate-tai').classList.remove('active');
                document.getElementById('gate-xiu').classList.remove('active');
                if(game.selectedSide === 'TAI') document.getElementById('gate-tai').classList.add('active');
                else document.getElementById('gate-xiu').classList.add('active');

                // Vào tiền
                game.addChip(10000000); // All in luôn cho máu hoặc 10M
                setTimeout(() => game.confirm(), 500);
            }
        };

        // --- EVENT LISTENERS ---
        document.getElementById('btn-play').addEventListener('click', () => game.start());
        document.getElementById('open-tool').addEventListener('click', () => tool.open());
        
        document.getElementById('gate-tai').addEventListener('click', () => {
            if(game.state !== 'BETTING' || game.confirmedSide) return;
            game.selectedSide = 'TAI';
            game.tempBet = 0;
            document.getElementById('gate-tai').classList.add('active');
            document.getElementById('gate-xiu').classList.remove('active');
            game.updateUIBet();
        });

        document.getElementById('gate-xiu').addEventListener('click', () => {
            if(game.state !== 'BETTING' || game.confirmedSide) return;
            game.selectedSide = 'XIU';
            game.tempBet = 0;
            document.getElementById('gate-xiu').classList.add('active');
            document.getElementById('gate-tai').classList.remove('active');
            game.updateUIBet();
        });

    </script>
</body>
</html>

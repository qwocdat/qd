<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SUNWIN V10 - REALISTIC HEADER</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700;900&display=swap" rel="stylesheet">
    <style>
        /* --- 1. CORE RESET --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body {
            margin: 0; padding: 0;
            background: #1a0000;
            font-family: 'Roboto', sans-serif;
            height: 100vh; width: 100vw;
            overflow: hidden;
            display: flex; flex-direction: column;
            background-image: radial-gradient(circle at 50% 30%, #4a0e0e, #000);
        }

        /* --- 2. HEADER GI·ªêNG ·∫¢NH 100% --- */
        .sunwin-header {
            width: 100%; height: 80px;
            background: linear-gradient(to bottom, #4b2c10, #1a0a00);
            border-bottom: 2px solid #b8860b;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px; z-index: 100;
            box-shadow: 0 5px 15px rgba(0,0,0,0.8);
        }

        /* Khu v·ª±c Avatar + T√™n */
        .user-group {
            display: flex; flex-direction: column; align-items: flex-start; gap: 5px;
        }

        /* Avatar */
        .avatar-frame {
            width: 50px; height: 50px; border-radius: 50%;
            border: 2px solid #f1c40f;
            background: url('https://ui-avatars.com/api/?name=Quvg&background=000&color=f1c40f&bold=true') center/cover;
            box-shadow: 0 0 10px #f1c40f; position: absolute; left: 10px; top: 15px; z-index: 2;
        }

        /* Khung t√™n (Gi·ªëng ·∫£nh) */
        .name-pill {
            background: linear-gradient(to bottom, #000, #222);
            border: 1px solid #aa8337;
            border-radius: 15px;
            padding: 2px 15px 2px 45px; /* Padding left ƒë·ªÉ n√© avatar */
            color: #f1c40f; font-weight: bold; font-size: 14px;
            box-shadow: inset 0 0 5px #000;
            margin-left: 15px; margin-bottom: 5px;
            min-width: 100px; text-transform: lowercase;
        }

        /* Khung Ti·ªÅn (Gi·ªëng ·∫£nh tuy·ªát ƒë·ªëi) */
        .balance-wrapper {
            position: relative;
            background: linear-gradient(180deg, #5e431f, #2e1e0a); /* Vi·ªÅn v√†ng n√¢u */
            padding: 2px; border-radius: 20px;
            box-shadow: 0 2px 5px #000;
        }

        .balance-pill {
            background: #000; /* N·ªÅn ƒëen thui nh∆∞ ·∫£nh */
            border-radius: 18px;
            height: 35px; min-width: 160px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 5px;
            box-shadow: inset 0 0 10px #333;
        }

        /* Icon $ b√™n tr√°i */
        .icon-dollar {
            width: 28px; height: 28px;
            background: linear-gradient(to bottom, #fceabb, #f8b500);
            border-radius: 50%;
            color: #4b2c10; font-weight: 900; font-size: 18px;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 0 5px #f8b500;
        }

        /* S·ªë ti·ªÅn ·ªü gi·ªØa */
        .balance-num {
            color: #fff; font-size: 16px; font-weight: bold;
            flex: 1; text-align: center;
            font-family: Arial, sans-serif;
            letter-spacing: 0.5px;
        }

        /* N√∫t + b√™n ph·∫£i */
        .btn-plus-gold {
            width: 28px; height: 28px;
            background: linear-gradient(to bottom, #fceabb, #f8b500);
            border-radius: 50%;
            color: #4b2c10; font-weight: 900; font-size: 20px;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer;
            box-shadow: 0 0 5px #f8b500;
        }
        .btn-plus-gold:active { transform: scale(0.9); }

        /* N√∫t ph·ª• b√™n ph·∫£i (Tin t·ª©c/C√†i ƒë·∫∑t) */
        .right-actions { display: flex; gap: 10px; }
        .action-icon {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #fceabb; font-size: 10px; font-weight: bold; gap: 2px;
        }
        .icon-circle {
            width: 35px; height: 35px; border-radius: 50%;
            background: linear-gradient(to bottom, #5e431f, #2e1e0a);
            border: 1px solid #aa8337;
            display: flex; justify-content: center; align-items: center;
            font-size: 18px; color: #fff;
        }

        /* --- 3. GAME BOARD --- */
        .game-area { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }

        .board { display: flex; align-items: center; justify-content: space-around; width: 100%; margin-top: -20px; }

        .gate {
            width: 35vw; height: 35vw; max-width: 160px; max-height: 160px;
            background: linear-gradient(180deg, #4b0d0d, #220505);
            border: 3px solid #8e581e; border-radius: 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: inset 0 0 20px #000, 0 5px 15px #000;
            transition: 0.2s;
        }
        .gate.active { border-color: #ffd700; box-shadow: 0 0 30px #ffd700; transform: scale(1.05); }
        .gate-title { font-size: 32px; font-weight: 900; color: #fff; -webkit-text-stroke: 1px #d4af37; }
        .gate-bet { color: #0f0; font-weight: bold; font-size: 14px; margin-top: 5px; text-shadow: 1px 1px 0 #000; }

        .plate {
            width: 40vw; height: 40vw; max-width: 190px; max-height: 190px;
            background: radial-gradient(#b8860b, #3e1e04);
            border: 5px solid #d4af37; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; position: relative;
            box-shadow: 0 10px 40px #000;
        }
        .bowl {
            position: absolute; width: 92%; height: 92%; border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #ffd700, #b8860b, #5a2d0c);
            z-index: 10; display: flex; justify-content: center; align-items: center;
            font-size: 30px; font-weight: 900; color: rgba(0,0,0,0.3);
            box-shadow: 0 5px 20px #000; transition: transform 0.5s, opacity 0.5s;
        }
        .bowl.open { transform: translateY(-120%); opacity: 0; pointer-events: none; }
        
        .dice-grp { display: flex; gap: 5px; }
        .dice { width: 32px; height: 32px; background: #fff; border-radius: 6px; display: flex; justify-content: center; align-items: center; font-size: 24px; color: #c0392b; box-shadow: inset 0 0 3px #000;}

        .timer {
            position: absolute; top: -15px; width: 45px; height: 45px;
            background: #000; border: 2px solid red; border-radius: 50%;
            color: red; font-weight: bold; font-size: 20px;
            display: flex; justify-content: center; align-items: center;
            z-index: 20; box-shadow: 0 0 10px red;
        }

        /* --- 4. CONTROLS --- */
        .controls {
            background: #120505; border-top: 2px solid #b8860b;
            padding: 10px; display: flex; flex-direction: column; gap: 10px;
        }
        .chip-bar { display: flex; gap: 10px; justify-content: center; overflow-x: auto; padding-bottom: 5px;}
        .chip {
            flex-shrink: 0; width: 55px; height: 55px; border-radius: 50%;
            background: url('https://img.freepik.com/free-vector/golden-coin-vector_23-2147494488.jpg'); background-size: cover;
            border: 2px dashed #ffd700; color: #000; font-weight: 900;
            display: flex; justify-content: center; align-items: center; font-size: 11px;
            cursor: pointer; box-shadow: 0 3px 0 #8e581e;
        }
        .chip:active { transform: translateY(3px); }

        .btn-bar { display: flex; gap: 10px; }
        .btn {
            flex: 1; padding: 12px; border: none; border-radius: 25px;
            font-weight: 900; font-size: 16px; text-transform: uppercase; cursor: pointer;
            color: #2d1e03; box-shadow: 0 4px 0 rgba(0,0,0,0.5);
        }
        .btn-cancel { background: #95a5a6; flex: 0.5; }
        .btn-allin { background: linear-gradient(#e74c3c, #c0392b); color: #fff; }
        .btn-ok { background: linear-gradient(#f1c40f, #f39c12); flex: 1.5; }
        .btn:disabled { filter: grayscale(1); opacity: 0.5; }

        /* --- 5. TOOL & MODALS --- */
        #tool-trigger {
            position: fixed; top: 100px; right: 0;
            width: 40px; height: 40px; background: #000;
            border: 2px solid #0f0; border-right: none;
            border-radius: 10px 0 0 10px; color: #0f0;
            display: flex; justify-content: center; align-items: center;
            font-size: 24px; z-index: 900; cursor: pointer;
            box-shadow: -5px 0 10px rgba(0,255,0,0.3);
        }

        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 2000;
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            width: 300px; background: #000; border: 2px solid #d4af37;
            padding: 20px; border-radius: 15px; text-align: center;
            box-shadow: 0 0 20px #d4af37;
        }
        .hack-txt { font-size: 50px; font-weight: 900; margin: 20px 0; }
        .h-tai { color: #e74c3c; text-shadow: 0 0 15px red; } .h-xiu { color: #3498db; text-shadow: 0 0 15px blue; }

        #deposit-options div {
            background: #333; margin: 5px; padding: 10px; border-radius: 5px; cursor: pointer; font-weight: bold; color: #fff;
        }
        #deposit-options div:hover { background: #444; border: 1px solid #f1c40f; }

        /* Start Screen */
        #start-screen { position: fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:9999; display:flex; justify-content:center; align-items:center; }
        .btn-start { padding: 15px 50px; background: #f1c40f; border-radius: 30px; font-weight: bold; font-size: 20px; border:none; animation: pulse 1s infinite; }
        @keyframes pulse { 50% {transform: scale(1.05);} }

    </style>
</head>
<body>

    <div id="start-screen">
        <button class="btn-start" onclick="startGame()">V√ÄO GAME SUNWIN</button>
    </div>

    <div class="sunwin-header">
        <div class="user-group">
            <div class="avatar-frame"></div>
            <div class="name-pill">quvg</div>
        </div>
        
        <div class="balance-wrapper">
            <div class="balance-pill">
                <div class="icon-dollar">$</div>
                <div class="balance-num" id="balance">0</div>
                <div class="btn-plus-gold" onclick="openDeposit()">+</div>
            </div>
        </div>

        <div class="right-actions">
            <div class="action-icon">
                <div class="icon-circle">üîî</div>
                <span>Tin T·ª©c</span>
            </div>
            <div class="action-icon">
                <div class="icon-circle">‚öôÔ∏è</div>
                <span>C√†i ƒê·∫∑t</span>
            </div>
        </div>
    </div>

    <div class="game-area">
        <div id="win-notify" style="position:absolute; top:20%; color:yellow; font-size:40px; font-weight:900; text-shadow:0 0 20px red; display:none; z-index:100">WIN!</div>

        <div class="board">
            <div class="gate" id="gate-tai" onclick="game.select('TAI')">
                <div class="gate-title">T√ÄI</div>
                <div class="gate-bet" id="bet-tai">0</div>
            </div>

            <div class="plate">
                <div class="timer" id="timer">15</div>
                <div class="dice-grp">
                    <div class="dice" id="d1"></div>
                    <div class="dice" id="d2"></div>
                    <div class="dice" id="d3"></div>
                </div>
                <div class="bowl" id="bowl">VIP</div>
            </div>

            <div class="gate" id="gate-xiu" onclick="game.select('XIU')">
                <div class="gate-title">X·ªàU</div>
                <div class="gate-bet" id="bet-xiu">0</div>
            </div>
        </div>
    </div>

    <div class="controls">
        <div style="text-align:center; color:#f39c12; font-weight:bold" id="status">ƒê·∫∑t c∆∞·ª£c ƒëi n√†o!</div>
        <div class="chip-bar">
            <div class="chip" onclick="game.addChip(100000)">100K</div>
            <div class="chip" onclick="game.addChip(500000)">500K</div>
            <div class="chip" onclick="game.addChip(1000000)">1M</div>
            <div class="chip" onclick="game.addChip(5000000)">5M</div>
            <div class="chip" onclick="game.addChip(10000000)">10M</div>
        </div>
        <div class="btn-bar">
            <button class="btn btn-cancel" onclick="game.cancel()">H·ªßy</button>
            <button class="btn btn-allin" onclick="game.allIn()">T·∫§T TAY</button>
            <button class="btn btn-ok" id="btn-ok" onclick="game.confirm()">ƒê·∫∂T C∆Ø·ª¢C</button>
        </div>
    </div>

    <div id="tool-trigger" onclick="openTool()">ü§ñ</div>

    <div class="modal" id="modal-tool">
        <div class="modal-content">
            <div style="text-align:right; color:#fff; cursor:pointer" onclick="closeModal('modal-tool')">[X]</div>
            <div style="color:#0f0; font-weight:bold">TOOL HACK V10</div>
            <div class="hack-txt" id="hack-res">---</div>
            <button class="btn" style="background:#0f0; width:100%" onclick="runHack()">PH√ÇN T√çCH</button>
            <button class="btn" style="background:#fff; width:100%; margin-top:10px" onclick="autoHack()">AUTO C∆Ø·ª¢C</button>
        </div>
    </div>

    <div class="modal" id="modal-dep">
        <div class="modal-content">
            <div style="text-align:right; color:#fff; cursor:pointer" onclick="closeModal('modal-dep')">[X]</div>
            <h3>N·∫†P TI·ªÄN (FAKE)</h3>
            <div id="deposit-options">
                <div onclick="deposit(10000000)">+ 10.000.000</div>
                <div onclick="deposit(50000000)">+ 50.000.000</div>
                <div onclick="deposit(100000000)">+ 100.000.000</div>
            </div>
        </div>
    </div>

    <script>
        const game = {
            balance: 10000000,
            state: 'STOP',
            tempBet: 0,
            selected: null,
            confirmedAmt: 0,
            confirmedSide: null,
            forcedRes: null,
            timer: null,

            select: function(side) {
                if(this.state !== 'BETTING' || this.confirmedSide) return;
                this.selected = side;
                document.getElementById('gate-tai').classList.remove('active');
                document.getElementById('gate-xiu').classList.remove('active');
                if(side === 'TAI') document.getElementById('gate-tai').classList.add('active');
                else document.getElementById('gate-xiu').classList.add('active');
                this.tempBet = 0;
                this.updateBetUI();
            },

            addChip: function(val) {
                if(this.state !== 'BETTING' || !this.selected || this.confirmedSide) return;
                if(this.balance - this.confirmedAmt - this.tempBet < val) return;
                this.tempBet += val;
                this.updateBetUI();
            },

            allIn: function() {
                if(this.state !== 'BETTING' || !this.selected || this.confirmedSide) return;
                let avail = this.balance - this.confirmedAmt;
                if(avail > 0) {
                    this.tempBet = avail;
                    this.updateBetUI();
                }
            },

            cancel: function() {
                if(this.confirmedSide) return;
                this.tempBet = 0;
                this.updateBetUI();
            },

            confirm: function() {
                if(this.tempBet <= 0) return;
                let oldBal = this.balance;
                this.balance -= this.tempBet;
                this.confirmedAmt = this.tempBet;
                this.confirmedSide = this.selected;
                
                // ANIMATION: S·ªë ch·∫°y gi·∫£m d·∫ßn
                animateBalance(oldBal, this.balance, 1000);

                document.getElementById('status').innerText = "ƒê√É ƒê·∫∂T C∆Ø·ª¢C";
                document.getElementById('btn-ok').disabled = true;
            },

            updateBetUI: function() {
                document.getElementById('bet-tai').innerText = "0";
                document.getElementById('bet-xiu').innerText = "0";
                if(this.selected === 'TAI') document.getElementById('bet-tai').innerText = fmt(this.tempBet);
                if(this.selected === 'XIU') document.getElementById('bet-xiu').innerText = fmt(this.tempBet);
            }
        };

        // --- GAME LOOP ---
        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('balance').innerText = fmt(game.balance);
            newRound();
        }

        function newRound() {
            game.state = 'BETTING';
            game.tempBet = 0;
            game.selected = null;
            game.confirmedAmt = 0;
            game.confirmedSide = null;
            game.forcedRes = null;
            clearInterval(game.timer);

            document.getElementById('bowl').classList.remove('open');
            document.getElementById('win-notify').style.display = 'none';
            document.getElementById('status').innerText = "M·ªúI ƒê·∫∂T C∆Ø·ª¢C";
            document.getElementById('btn-ok').disabled = false;
            document.getElementById('gate-tai').classList.remove('active');
            document.getElementById('gate-xiu').classList.remove('active');
            game.updateBetUI();
            document.getElementById('hack-res').innerText = "---";

            let t = 15;
            document.getElementById('timer').innerText = t;
            game.timer = setInterval(() => {
                t--;
                document.getElementById('timer').innerText = t;
                if(t<=0) { clearInterval(game.timer); startShaking(); }
            }, 1000);
        }

        function startShaking() {
            game.state = 'SHAKING';
            document.getElementById('status').innerText = "ƒêANG L·∫ÆC...";
            document.getElementById('btn-ok').disabled = true;
            document.getElementById('bowl').classList.add('shaking');
            setTimeout(() => {
                document.getElementById('bowl').classList.remove('shaking');
                showResult();
            }, 2000);
        }

        function showResult() {
            game.state = 'RESULT';
            let r1, r2, r3, total, type;

            if(game.forcedRes) {
                type = game.forcedRes;
                do {
                    r1 = Math.ceil(Math.random()*6);
                    r2 = Math.ceil(Math.random()*6);
                    r3 = Math.ceil(Math.random()*6);
                    total = r1+r2+r3;
                } while((type==='TAI' && total<11) || (type==='XIU' && total>10));
            } else {
                r1 = Math.ceil(Math.random()*6);
                r2 = Math.ceil(Math.random()*6);
                r3 = Math.ceil(Math.random()*6);
                total = r1+r2+r3;
                type = total >= 11 ? 'TAI' : 'XIU';
            }

            const icons = ['‚öÄ','‚öÅ','‚öÇ','‚öÉ','‚öÑ','‚öÖ'];
            document.getElementById('d1').innerText = icons[r1-1];
            document.getElementById('d2').innerText = icons[r2-1];
            document.getElementById('d3').innerText = icons[r3-1];
            document.getElementById('bowl').classList.add('open');
            document.getElementById('status').innerText = `V·ªÄ ${type} (${total})`;

            if(game.confirmedSide === type) {
         

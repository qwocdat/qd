<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QUOCDAT SEC | Hệ Thống Bảo Mật Python</title>
    
    <script>
        const currentUser = localStorage.getItem('vip_username');
        if(!currentUser) { window.location.href = "login.html"; }
    </script>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --primary: #00ff88; --bg: #050505; --glass: rgba(255,255,255,0.03); --border: rgba(255,255,255,0.1); }
        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        body { background: var(--bg) url('https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=2574&auto=format&fit=crop') center/cover no-repeat fixed; color: #fff; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .overlay-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: -1; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 10; }

        header { position: fixed; top: 0; left: 0; width: 100%; padding: 15px 0; z-index: 2000; background: rgba(10,10,10,0.9); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); }
        .nav-flex { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Orbitron'; font-size: 22px; font-weight: 900; color: #fff; text-decoration: none; display: flex; align-items: center; gap: 8px; }
        .logo i { color: var(--primary); }
        .desktop-menu { display: flex; gap: 25px; }
        .desktop-menu a { color: #aaa; text-decoration: none; font-size: 14px; font-weight: 600; transition: 0.3s; }
        .desktop-menu a:hover { color: var(--primary); }
        
        .hamburger { display: none; font-size: 28px; cursor: pointer; color: #fff; padding: 5px; }
        .mobile-nav { position: fixed; top: 0; right: 0; width: 80%; max-width: 300px; height: 100vh; background: #0a0a0a; z-index: 9999; padding: 60px 25px; transform: translateX(100%); transition: 0.4s; border-left: 1px solid var(--border); box-shadow: -10px 0 30px rgba(0,0,0,0.5); }
        .mobile-nav.open { transform: translateX(0); }
        .mobile-nav a { display: block; color: #fff; text-decoration: none; font-size: 16px; padding: 15px 0; border-bottom: 1px solid #1a1a1a; font-weight: 600; }
        .close-menu { position: absolute; top: 20px; right: 20px; font-size: 25px; color: #ff5555; }

        .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; padding-top: 80px; }
        .badge { background: rgba(0,255,136,0.1); color: var(--primary); border: 1px solid var(--primary); padding: 6px 15px; border-radius: 30px; font-size: 11px; font-weight: bold; margin-bottom: 20px; display: inline-block; }
        .hero h1 { font-size: 55px; font-family: 'Orbitron'; line-height: 1.1; margin-bottom: 20px; }
        .hero p { color: #aaa; max-width: 650px; margin: 0 auto 35px; }
        .btn-group { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .btn { padding: 15px 35px; border-radius: 50px; font-weight: bold; text-decoration: none; display: inline-flex; align-items: center; gap: 10px; transition: 0.3s; }
        .btn-primary { background: var(--primary); color: #000; }
        .btn-blue { background: #00b8ff; color: #fff; }

        .stats-bar { display: flex; justify-content: center; gap: 30px; margin-top: 50px; flex-wrap: wrap; }
        .stat-item { background: rgba(255,255,255,0.02); padding: 15px 25px; border-radius: 12px; border: 1px solid var(--border); min-width: 140px; }
        .stat-num { font-family: 'Orbitron'; font-size: 22px; color: var(--primary); display: block; }
        .stat-label { font-size: 10px; color: #777; text-transform: uppercase; }

        .section-padding { padding: 80px 0; }
        .section-title { text-align: center; margin-bottom: 50px; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .glass-card { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; padding: 30px; backdrop-filter: blur(10px); }
        
        details { background: rgba(255,255,255,0.02); border: 1px solid var(--border); margin-bottom: 10px; border-radius: 10px; }
        summary { padding: 20px; cursor: pointer; font-weight: bold; list-style: none; }
        .faq-ans { padding: 0 20px 20px; color: #aaa; font-size: 14px; }

        footer { background: #000; padding: 60px 0 30px; border-top: 1px solid var(--border); margin-top: 50px; }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; }

        @media (max-width: 768px) {
            .desktop-menu, #desktopAuth { display: none; }
            .hamburger { display: block; }
            .hero h1 { font-size: 35px; }
        }
    </style>
</head>
<body>
    <div class="overlay-bg"></div>

    <header>
        <div class="container nav-flex">
            <a href="index.html" class="logo"><i class="fas fa-shield-alt"></i> QUOCDAT.SEC</a>
            <nav class="desktop-menu">
                <a href="#about">Tính Năng</a>
                <a href="shop.html">Kho File</a>
                <a href="getkey.html">Lấy Key</a>
                <a href="naptien.html">Nạp Tiền</a>
            </nav>
            <div id="desktopAuth"></div>
            <div class="hamburger" onclick="toggleMenu(true)"><i class="fas fa-bars"></i></div>
        </div>
    </header>

    <div class="mobile-nav" id="mobileNav">
        <i class="fas fa-times close-menu" onclick="toggleMenu(false)"></i>
        <div id="mobileUserArea"></div>
        <a href="index.html">Trang Chủ</a>
        <a href="shop.html">Kho Tài Liệu</a>
        <a href="getkey.html">Lấy Key VIP</a>
        <a href="naptien.html">Nạp Tiền Hệ Thống</a>
        <a href="javascript:void(0)" onclick="logout()" style="color:#ff5555">Đăng Xuất</a>
    </div>

    <section class="hero">
        <div class="container">
            <div class="badge">FIREBASE REAL-TIME CONNECTED</div>
            <h1>BẢO MẬT PYTHON<br><span style="color:var(--primary)">CHỐNG DECOMPILE</span></h1>
            <p>Hệ thống quản lý Key VIP và bảo mật mã nguồn Python hàng đầu. Tự động hóa doanh thu từ rút gọn link.</p>
            <div class="btn-group">
                <a href="getkey.html" class="btn btn-primary"><i class="fas fa-key"></i> LẤY KEY NGAY</a>
                <a href="naptien.html" class="btn btn-blue"><i class="fas fa-wallet"></i> NẠP TIỀN VIP</a>
            </div>
            <div class="stats-bar">
                <div class="stat-item"><span class="stat-num">12K+</span><span class="stat-label">Users</span></div>
                <div class="stat-item"><span class="stat-num">24/7</span><span class="stat-label">Support</span></div>
                <div class="stat-item"><span class="stat-num">V8.0</span><span class="stat-label">Version</span></div>
            </div>
        </div>
    </section>

    <section id="about" class="section-padding">
        <div class="container">
            <div class="section-title"><h2>TÍNH NĂNG NỔI BẬT</h2></div>
            <div class="grid-3">
                <div class="glass-card">
                    <i class="fas fa-code-branch" style="font-size:30px; color:var(--primary)"></i>
                    <h3 style="margin:15px 0">Mã hóa AST</h3>
                    <p style="color:#888; font-size:14px">Biến đổi cấu trúc code khiến các công cụ Decompile hiện nay không thể đọc được nội dung gốc.</p>
                </div>
                <div class="glass-card">
                    <i class="fas fa-clock" style="font-size:30px; color:var(--primary)"></i>
                    <h3 style="margin:15px 0">Key 15 Phút</h3>
                    <p style="color:#888; font-size:14px">Hệ thống tạo mã có thời hạn, bắt buộc người dùng vượt link để tiếp tục sử dụng tool.</p>
                </div>
                <div class="glass-card">
                    <i class="fas fa-server" style="font-size:30px; color:var(--primary)"></i>
                    <h3 style="margin:15px 0">API Realtime</h3>
                    <p style="color:#888; font-size:14px">Kết nối trực tiếp với Firebase, cộng tiền và khóa tài khoản ngay lập tức mà không cần chờ đợi.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding">
        <div class="container" style="max-width:800px">
            <div class="section-title"><h2>HỎI ĐÁP</h2></div>
            <details><summary>Làm sao để nạp tiền?</summary><div class="faq-ans">Bạn vào mục Nạp Tiền, quét mã QR và gửi Bill cho Admin để được duyệt cộng số dư tự động.</div></details>
            <details><summary>Tôi có thể share Key không?</summary><div class="faq-ans">Hệ thống chống Share Key sẽ khóa tài khoản nếu phát hiện 2 IP sử dụng cùng 1 Token.</div></details>
        </div>
    </section>

    <footer>
        <div class="container footer-grid">
            <div><h3 style="font-family:'Orbitron'; color:var(--primary)">QUOCDAT.SEC</h3><p style="font-size:13px; margin-top:10px">Giải pháp MMO toàn diện.</p></div>
            <div><h4>Liên Kết</h4><a href="#" style="color:#666; font-size:13px; text-decoration:none; display:block; margin-top:10px">Telegram Admin</a></div>
        </div>
    </footer>

    <script>
        // CẤU HÌNH FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyAWaCeduRtSP74OkRYJ6wvw8LPPkoLGsGc",
            authDomain: "quocdat-b80c2.firebaseapp.com",
            databaseURL: "https://quocdat-b80c2-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "quocdat-b80c2",
            storageBucket: "quocdat-b80c2.firebasestorage.app",
            messagingSenderId: "988520495087",
            appId: "1:988520495087:web:97c1b46fc0f6d1f3aaa81a"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // ĐIỀU KHIỂN MENU
        function toggleMenu(isOpen) {
            document.getElementById('mobileNav').classList.toggle('open', isOpen);
        }

        // ĐĂNG XUẤT
        function logout() {
            localStorage.removeItem('vip_username');
            window.location.href = "login.html";
        }

        // LOGIC QUAN TRỌNG: ĐỒNG BỘ VÀ TỰ TẠO USER MỚI
        document.addEventListener("DOMContentLoaded", function() {
            const user = localStorage.getItem('vip_username');
            if(!user) return;

            const userRef = db.ref('users/' + user);
            
            // Lắng nghe dữ liệu
            userRef.on('value', (snapshot) => {
                let balance = 0;
                
                if(!snapshot.exists()) {
                    // NẾU CHƯA CÓ USER TRÊN DATABASE -> TỰ TẠO MỚI (FIX LỖI CỦA BẠN)
                    userRef.set({
                        username: user,
                        balance: 0,
                        role: "member",
                        lastLogin: new Date().toLocaleString()
                    });
                } else {
                    balance = snapshot.val().balance || 0;
                }

                const moneyHtml = `<div style="background:rgba(0,255,136,0.1); border:1px solid var(--primary); padding:5px 15px; border-radius:20px; color:var(--primary); font-family:'Orbitron'; font-weight:bold;">${balance.toLocaleString()}đ</div>`;
                
                // Hiển thị PC
                const authPC = document.getElementById('desktopAuth');
                if(authPC) authPC.innerHTML = `<div style="display:flex; align-items:center; gap:10px;">${moneyHtml} <span style="font-size:13px;">${user}</span></div>`;

                // Hiển thị Mobile
                const authMB = document.getElementById('mobileUserArea');
                if(authMB) authMB.innerHTML = `<div style="text-align:center; padding-bottom:20px; border-bottom:1px solid #222; margin-bottom:20px;"><div style="font-size:25px; color:var(--primary); font-weight:bold;">${balance.toLocaleString()}đ</div><div style="font-size:12px; color:#666;">Xin chào, ${user}</div></div>`;
            });
        });
    </script>
</body>
                        </html>
                        
